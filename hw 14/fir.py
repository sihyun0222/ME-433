import matplotlib.pyplot as plt # for plotting
import numpy as np # for sine function

import csv



h = []
n = len(h)
t = [] # column 0
data1 = [] # column 1
data2 = [] # column 1
filter = [0] * n

filename = input("Enter filename: ")
count = 0

with open(filename+'.csv') as f:
    # open the csv file
    reader = csv.reader(f)
    for row in reader:
        # read the rows 1 one by one
        t.append(float(row[0])) # leftmost column
        data1.append(float(row[1])) # second column

        filter[count % n] = float(row[1]) * h[count % n]
        val = sum(filter)
        data2.append(val)
        count = count + 1



plt.plot(t, data1,'-b', label='Raw data')
plt.plot(t, data2,'-r', label='Filtered data')
plt.xlabel('Time [s]')
plt.ylabel('Signal')
plt.title('Low Pass FIR of '+ filename +' ({n} Coefficients, Fl = __, Bl = __)')
plt.show()

# h = [
#     -0.000000000000000001,
#     0.000064393676763220,
#     0.000271319801257540,
#     0.000649073204382278,
#     0.001235623050647806,
#     0.002076637553675906,
#     0.003222058252059904,
#     0.004721452177155942,
#     0.006618513253826244,
#     0.008945196904421814,
#     0.011716041834802050,
#     0.014923251981835048,
#     0.018533075973444006,
#     0.022483932798082779,
#     0.026686597480116862,
#     0.031026590809771163,
#     0.035368727580917296,
#     0.039563585562856544,
#     0.043455480385182557,
#     0.046891386356592825,
#     0.049730143962839937,
#     0.051851251307310706,
#     0.053162553912562159,
#     0.053606224358990776,
#     0.053162553912562159,
#     0.051851251307310706,
#     0.049730143962839930,
#     0.046891386356592839,
#     0.043455480385182564,
#     0.039563585562856544,
#     0.035368727580917296,
#     0.031026590809771187,
#     0.026686597480116866,
#     0.022483932798082775,
#     0.018533075973443999,
#     0.014923251981835051,
#     0.011716041834802057,
#     0.008945196904421819,
#     0.006618513253826253,
#     0.004721452177155945,
#     0.003222058252059902,
#     0.002076637553675908,
#     0.001235623050647806,
#     0.000649073204382280,
#     0.000271319801257541,
#     0.000064393676763220,
#     -0.000000000000000001,
# ]

# h = [
#     0.000000000000000000,
#     0.000006654468709502,
#     0.000029128522936023,
#     0.000071630294094485,
#     0.000139045364715286,
#     0.000237018146420107,
#     0.000371990776314115,
#     0.000551191427798928,
#     0.000782566139698271,
#     0.001074650878794299,
#     0.001436383452247726,
#     0.001876857948081446,
#     0.002405027463171737,
#     0.003029363833662816,
#     0.003757485769150283,
#     0.004595769074907365,
#     0.005548954406576212,
#     0.006619769140808002,
#     0.007808580390891126,
#     0.009113095905728782,
#     0.010528128553079571,
#     0.012045438326481696,
#     0.013653663385294468,
#     0.015338348625262888,
#     0.017082076796941639,
#     0.018864703378109852,
#     0.020663692418049256,
#     0.022454546570933227,
#     0.024211320690754524,
#     0.025907204835505290,
#     0.027515159476891312,
#     0.029008583268927898,
#     0.030361992005490210,
#     0.031551686475304340,
#     0.032556386852028101,
#     0.033357812050676970,
#     0.033941184117168982,
#     0.034295640137166114,
#     0.034414537262454484,
#     0.034295640137166114,
#     0.033941184117168982,
#     0.033357812050676984,
#     0.032556386852028101,
#     0.031551686475304340,
#     0.030361992005490220,
#     0.029008583268927898,
#     0.027515159476891322,
#     0.025907204835505290,
#     0.024211320690754531,
#     0.022454546570933234,
#     0.020663692418049256,
#     0.018864703378109866,
#     0.017082076796941632,
#     0.015338348625262895,
#     0.013653663385294473,
#     0.012045438326481693,
#     0.010528128553079576,
#     0.009113095905728785,
#     0.007808580390891126,
#     0.006619769140808005,
#     0.005548954406576217,
#     0.004595769074907367,
#     0.003757485769150290,
#     0.003029363833662813,
#     0.002405027463171739,
#     0.001876857948081447,
#     0.001436383452247725,
#     0.001074650878794302,
#     0.000782566139698270,
#     0.000551191427798929,
#     0.000371990776314116,
#     0.000237018146420106,
#     0.000139045364715286,
#     0.000071630294094485,
#     0.000029128522936022,
#     0.000006654468709502,
#     0.000000000000000000,
# ]

# h = [
#     0.000000000000000000,
#     0.000000000000000000,
#     -0.000677860342733286,
#     0.003072202991118522,
#     -0.006915560089023327,
#     0.008484569441832667,
#     -0.000000000000000013,
#     -0.026910878959407289,
#     0.074276303428249230,
#     -0.132275347766852597,
#     0.180936798488952777,
#     0.800019545615726746,
#     0.180936798488952805,
#     -0.132275347766852625,
#     0.074276303428249243,
#     -0.026910878959407313,
#     -0.000000000000000013,
#     0.008484569441832672,
#     -0.006915560089023332,
#     0.003072202991118528,
#     -0.000677860342733287,
#     0.000000000000000000,
#     0.000000000000000000,
# ]

# h = [
#     -0.000000000000000001,
#     0.001184048940411622,
#     0.005638626576572929,
#     0.015264466670668006,
#     0.031773674080497513,
#     0.055235844554924626,
#     0.083022909324854871,
#     0.109915929304955057,
#     0.129569907497824488,
#     0.136789186098581456,
#     0.129569907497824488,
#     0.109915929304955098,
#     0.083022909324854913,
#     0.055235844554924626,
#     0.031773674080497534,
#     0.015264466670668038,
#     0.005638626576572936,
#     0.001184048940411623,
#     -0.000000000000000001,
# ]
